
    车型ID：891f

    模拟：协议模拟-->891f

;******************************************************************************************************************************************************

    通讯线: $~07$~07$~10400

进入命令:

  $~  REQ000:81 58 F1 81 4B       $~  ANS000:81 58 F1 81 4B
  $~  REQ001:80 58 F1 02 10 83 5E       $~  ANS001:80 58 F1 02 10 83 5E

空闲命令:

  $!  REQ000:80 58 F1 02 3E 01 0A       $!  ANS000:80 58 F1 02 3E 01 0A

退出命令:

  $@  REQ000:80 58 F1 01 82 4C       $@  ANS000:80 58 F1 01 82 4C


;******************************************************************************************************************************************************

读取故障码:

  $#  REQ000:80 58 F1 04 18 00 FF 00 E4       $#  ANS000:80 58 F1 04 18 00 FF 00 E4

  ANS000.BYTE05 控制故障码个数，从$#ANS000.BYTE6$#开始每$#3$#个字节表示一个故障码，前$#2$#表示码号。

  码库:

  $*$*DTC/891f0000_2BYTE


<RDTC>
  <FUNCTION type="0" num="0">
     <param type="string" value="1"/>
   </FUNCTION>
</RDTC>

;******************************************************************************************************************************************************

清除故障码:

  $$  REQ000:80 58 F1 03 14 FF 00 DF       $$  ANS000:80 58 F1 03 14 FF 00 DF

;******************************************************************************************************************************************************

版本信息:

  $%  REQ000:80 58 F1 02 21 C1 AD       $%  ANS000:80 58 F1 02 21 C1 AD

  $%  000:博世生产日期:                          $%    $%  ANS000.BYTE006  $%  HEX(x1,x2,x3,x4);
  $%  001:电可擦除只读存储器(EEPROM)版本:        $%    $%  ANS000.BYTE010  $%  HEX(x1,x2,x3);
  $%  002:博世零件号代码:                        $%    $%  ANS000.BYTE013  $%  ASCII(x1,x2,x3,x4);
  $%  003:产品序列号:                            $%    $%  ANS000.BYTE017  $%  HEX(x1,x2,x3,x4);
  $%  004:客户项目代码:                          $%    $%  ANS000.BYTE021  $%  HEX(x1,x2);
  $%  005:博世硬件号:                            $%    $%  ANS000.BYTE051  $%  HEX(x1);
  $%  006:博世软件号:                            $%    $%  ANS000.BYTE052  $%  HEX(x1);

;******************************************************************************************************************************************************

读数据流: 

  $  REQ000:80 58 F1 02 21 80 6C       $  ANS000:80 58 F1 02 21 80 6C
  $  REQ001:80 58 F1 02 21 B0 9C       $  ANS001:80 58 F1 02 21 B0 9C
  $  REQ002:80 58 F1 02 21 C0 AC       $  ANS002:80 58 F1 02 21 C0 AC
  $  REQ003:80 58 F1 02 21 D0 BC       $  ANS003:80 58 F1 02 21 D0 BC

  $  000.用户零件号                   $    $       $    $  ANS000.BYTE006  $  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13);
  $  001.SW 号（BB 号）               $    $       $    $  ANS000.BYTE019  $  ASCII(x1,x2,x3,x4,x5,x6,x7);
  $  002.事故计数器                   $    $       $    $  ANS000.BYTE027  $  y=x1;
  $  003.模式                         $    $       $    $  ANS000.BYTE031  $  if((x1&0x02)==0x02) y=@0321;else if((x1&0x04)==0x04) y=@0322;else if((x1&0x08)==0x08) y=@0323;else if((x1&0x10)==0x10) y=@0324;else if((x1&0x20)==0x20) y=@0325;else y=@0003;
  $  004.车辆生产日期                 $    $       $    $  ANS001.BYTE006  $  HEX(x1,x2,x3,x4);
  $  005.车辆最后一次维修的日期       $    $       $    $  ANS002.BYTE006  $  HEX(x1,x2,x3,x4);
  $  006.司机前气囊已编程             $    $       $    $  ANS003.BYTE006  $  switxh(x1&0x01)0x01:y=@0020;default:y=@001f;
  $  007.副驾驶前气囊已编程           $    $       $    $  ANS003.BYTE006  $  switxh(x1&0x02)0x02:y=@0020;default:y=@001f;
  $  008.系统故障灯已编程             $    $       $    $  ANS003.BYTE010  $  switxh(x1&0x01)0x01:y=@0020;default:y=@001f;
  $  009.司机前气囊存在               $    $       $    $  ANS003.BYTE011  $  switxh(x1&0x01)0x01:y=@0020;default:y=@001f;
  $  010.副驾驶前气囊存在             $    $       $    $  ANS003.BYTE011  $  switxh(x1&0x02)0x02:y=@0020;default:y=@001f;
  $  011.系统故障灯存在               $    $       $    $  ANS003.BYTE015  $  switxh(x1&0x01)0x01:y=@0020;default:y=@001f;

;******************************************************************************************************************************************************

