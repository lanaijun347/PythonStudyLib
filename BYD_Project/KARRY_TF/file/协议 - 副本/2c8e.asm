
    车型ID：2c8e

    模拟：协议模拟-->2c8e

;******************************************************************************************************************************************************

    通讯线: $~06$~14$~500k$~716

进入命令:

  $~  REQ000:706 02 10 01 00 00 00 00 00       $~  ANS000:716 02 10 01 00 00 00 00 00

空闲命令:

  $!  REQ000:706 02 3E 00 00 00 00 00 00       $!  ANS000:716 02 3E 00 00 00 00 00 00

退出命令:



;******************************************************************************************************************************************************

读取故障码:

  $#  00.读当前故障码
  $#  REQ000:706 03 19 02 FF 00 00 00 00       $#  ANS000:716 03 19 02 FF 00 00 00 00

		控制公式：
			if((x4&0x09)==0x09)y=(x1<<16)+(x2<<8)+x3;else y=0; 

  帧长控制故障码个数，从$#ANS000.BYTE4$#开始每$#4$#个字节表示一个故障码，前$#3$#表示码号。

  码库:

  $*$*DTC/79000000


  $#  01.读历史故障码
  $#  REQ000:706 03 19 02 FF 00 00 00 00       $#  ANS000:716 03 19 02 FF 00 00 00 00

		控制公式：
			if((x4&0x09)==0x08)y=(x1<<16)+(x2<<8)+x3;else y=0; 

  帧长控制故障码个数，从$#ANS000.BYTE4$#开始每$#4$#个字节表示一个故障码，前$#3$#表示码号。

  码库:

  $*$*DTC/79000000

<RDTC>
	<FUNCTION type="0" num="0">
		<param type="string" value="9"/>
	</FUNCTION>
	<FUNCTION type="0" num="1">
		<param type="string" value="8"/>
	</FUNCTION>
</RDTC>

;******************************************************************************************************************************************************

清除故障码:

  $$  REQ000:706 04 14 FF FF FF 00 00 00       $$  ANS000:716 04 14 FF FF FF 00 00 00

;******************************************************************************************************************************************************

版本信息:

  $%  REQ000:706 03 22 F1 87 00 00 00 00       $%  ANS000:716 03 22 F1 87 00 00 00 00
  $%  REQ001:706 03 22 F1 8A 00 00 00 00       $%  ANS001:716 03 22 F1 8A 00 00 00 00
  $%  REQ002:706 03 22 F1 91 00 00 00 00       $%  ANS002:716 03 22 F1 91 00 00 00 00
  $%  REQ003:706 03 22 F1 94 00 00 00 00       $%  ANS003:716 03 22 F1 94 00 00 00 00
  $%  REQ004:706 03 22 F1 90 00 00 00 00       $%  ANS004:716 03 22 F1 90 00 00 00 00

  $%  000:零件号:            $%    $%  ANS000.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13);
  $%  001:供应商代码:        $%    $%  ANS001.BYTE004  $%  ASCII(x1,x2,x3);
  $%  002:硬件版本号:        $%    $%  ANS002.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);
  $%  003:软件版本号:        $%    $%  ANS003.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);
  $%  004:VIN码:             $%    $%  ANS004.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17);

;******************************************************************************************************************************************************

读数据流: 

  $)  00.基本数据流
  $  00.基本数据流
  $  REQ000:706 03 22 02 00 00 00 00 00       $  ANS000:716 03 22 02 00 00 00 00 00
  $  REQ001:706 03 22 02 01 00 00 00 00       $  ANS001:716 03 22 02 01 00 00 00 00
  $  REQ002:706 03 22 02 02 00 00 00 00       $  ANS002:716 03 22 02 02 00 00 00 00
  $  REQ003:706 03 22 02 03 00 00 00 00       $  ANS003:716 03 22 02 03 00 00 00 00
  $  REQ004:706 03 22 02 04 00 00 00 00       $  ANS004:716 03 22 02 04 00 00 00 00
  $  REQ005:706 03 22 02 05 00 00 00 00       $  ANS005:716 03 22 02 05 00 00 00 00
  $  REQ006:706 03 22 02 06 00 00 00 00       $  ANS006:716 03 22 02 06 00 00 00 00
  $  REQ007:706 03 22 02 07 00 00 00 00       $  ANS007:716 03 22 02 07 00 00 00 00
  $  REQ008:706 03 22 02 08 00 00 00 00       $  ANS008:716 03 22 02 08 00 00 00 00
  $  REQ009:706 03 22 02 10 00 00 00 00       $  ANS009:716 03 22 02 10 00 00 00 00
  $  REQ010:706 03 22 02 0E 00 00 00 00       $  ANS010:716 03 22 02 0E 00 00 00 00
  $  REQ011:706 03 22 02 38 00 00 00 00       $  ANS011:716 03 22 02 38 00 00 00 00
  $  REQ012:706 03 22 02 39 00 00 00 00       $  ANS012:716 03 22 02 39 00 00 00 00
  $  REQ013:706 03 22 02 3A 00 00 00 00       $  ANS013:716 03 22 02 3A 00 00 00 00
  $  REQ014:706 03 22 02 3B 00 00 00 00       $  ANS014:716 03 22 02 3B 00 00 00 00
  $  REQ015:706 03 22 02 3C 00 00 00 00       $  ANS015:716 03 22 02 3C 00 00 00 00
  $  REQ016:706 03 22 02 3D 00 00 00 00       $  ANS016:716 03 22 02 3D 00 00 00 00
  $  REQ017:706 03 22 02 3E 00 00 00 00       $  ANS017:716 03 22 02 3E 00 00 00 00
  $  REQ018:706 03 22 02 3F 00 00 00 00       $  ANS018:716 03 22 02 3F 00 00 00 00
  $  REQ019:706 03 22 02 40 00 00 00 00       $  ANS019:716 03 22 02 40 00 00 00 00
  $  REQ020:706 03 22 02 41 00 00 00 00       $  ANS020:716 03 22 02 41 00 00 00 00
  $  REQ021:706 03 22 02 42 00 00 00 00       $  ANS021:716 03 22 02 42 00 00 00 00
  $  REQ022:706 03 22 02 43 00 00 00 00       $  ANS022:716 03 22 02 43 00 00 00 00
  $  REQ023:706 03 22 02 44 00 00 00 00       $  ANS023:716 03 22 02 44 00 00 00 00
  $  REQ024:706 03 22 02 45 00 00 00 00       $  ANS024:716 03 22 02 45 00 00 00 00
  $  REQ025:706 03 22 02 46 00 00 00 00       $  ANS025:716 03 22 02 46 00 00 00 00
  $  REQ026:706 03 22 02 47 00 00 00 00       $  ANS026:716 03 22 02 47 00 00 00 00
  $  REQ027:706 03 22 02 48 00 00 00 00       $  ANS027:716 03 22 02 48 00 00 00 00
  $  REQ028:706 03 22 02 49 00 00 00 00       $  ANS028:716 03 22 02 49 00 00 00 00
  $  REQ029:706 03 22 02 4C 00 00 00 00       $  ANS029:716 03 22 02 4C 00 00 00 00
  $  REQ030:706 03 22 02 4D 00 00 00 00       $  ANS030:716 03 22 02 4D 00 00 00 00
  $  REQ031:706 03 22 02 4E 00 00 00 00       $  ANS031:716 03 22 02 4E 00 00 00 00
  $  REQ032:706 03 22 02 4F 00 00 00 00       $  ANS032:716 03 22 02 4F 00 00 00 00
  $  REQ033:706 03 22 02 50 00 00 00 00       $  ANS033:716 03 22 02 50 00 00 00 00
  $  REQ034:706 03 22 02 51 00 00 00 00       $  ANS034:716 03 22 02 51 00 00 00 00
  $  REQ035:706 03 22 02 52 00 00 00 00       $  ANS035:716 03 22 02 52 00 00 00 00
  $  REQ036:706 03 22 02 53 00 00 00 00       $  ANS036:716 03 22 02 53 00 00 00 00
  $  REQ037:706 03 22 02 55 00 00 00 00       $  ANS037:716 03 22 02 55 00 00 00 00
  $  REQ038:706 03 22 02 56 00 00 00 00       $  ANS038:716 03 22 02 56 00 00 00 00
  $  REQ039:706 03 22 02 57 00 00 00 00       $  ANS039:716 03 22 02 57 00 00 00 00
  $  REQ040:706 03 22 02 58 00 00 00 00       $  ANS040:716 03 22 02 58 00 00 00 00
  $  REQ041:706 03 22 02 59 00 00 00 00       $  ANS041:716 03 22 02 59 00 00 00 00
  $  REQ042:706 03 22 02 5A 00 00 00 00       $  ANS042:716 03 22 02 5A 00 00 00 00
  $  REQ043:706 03 22 02 5B 00 00 00 00       $  ANS043:716 03 22 02 5B 00 00 00 00
  $  REQ044:706 03 22 02 5C 00 00 00 00       $  ANS044:716 03 22 02 5C 00 00 00 00
  $  REQ045:706 03 22 02 5E 00 00 00 00       $  ANS045:716 03 22 02 5E 00 00 00 00
  $  REQ046:706 03 22 02 5F 00 00 00 00       $  ANS046:716 03 22 02 5F 00 00 00 00
  $  REQ047:706 03 22 02 60 00 00 00 00       $  ANS047:716 03 22 02 60 00 00 00 00
  $  REQ048:706 03 22 02 61 00 00 00 00       $  ANS048:716 03 22 02 61 00 00 00 00
  $  REQ049:706 03 22 02 62 00 00 00 00       $  ANS049:716 03 22 02 62 00 00 00 00
  $  REQ050:706 03 22 02 63 00 00 00 00       $  ANS050:716 03 22 02 63 00 00 00 00
  $  REQ051:706 03 22 02 64 00 00 00 00       $  ANS051:716 03 22 02 64 00 00 00 00
  $  REQ052:706 03 22 02 65 00 00 00 00       $  ANS052:716 03 22 02 65 00 00 00 00
  $  REQ053:706 03 22 02 66 00 00 00 00       $  ANS053:716 03 22 02 66 00 00 00 00
  $  REQ054:706 03 22 02 67 00 00 00 00       $  ANS054:716 03 22 02 67 00 00 00 00
  $  REQ055:706 03 22 02 68 00 00 00 00       $  ANS055:716 03 22 02 68 00 00 00 00

  $  000.电池总电压                                                                $    $  V        $    $  ANS000.BYTE004  $  y=(x1*256+x2)*0.05;
  $  001.电池总电流                                                                $    $  A        $    $  ANS001.BYTE004  $  y=((x1*256+x2)*0.05)-1600;
  $  002.SOC(电池荷电状态)值                                                       $    $  %        $    $  ANS002.BYTE004  $  y=(x1*256+x2)*0.1;
  $  003.SOH(电池健康状态)值                                                       $    $  %        $    $  ANS003.BYTE004  $  y=x;
  $  004.电池最高单体电压                                                          $    $  mV       $    $  ANS004.BYTE004  $  y=x1*256+x2;
  $  005.电池最低单体电压                                                          $    $  mV       $    $  ANS005.BYTE004  $  y=x1*256+x2;
  $  006.电池最高温度                                                              $    $  degC     $    $  ANS006.BYTE004  $  y=x-40;
  $  007.电池最低温度                                                              $    $  degC     $    $  ANS007.BYTE004  $  y=x-40;
  $  008.电池故障等级                                                              $    $           $    $  ANS008.BYTE004  $  if(x==0x00)y=@010c;else if(x==0x01)y=@0131;else if(x==0x02)y=@010e;else if(x==0x03)y=@0132;else if(x==0x04)y=@0628;else y=@0015;
  $  009.最高允许放电电流                                                          $    $  A        $    $  ANS009.BYTE004  $  y=((x1*256+x2)*0.05)-1600;
  $  010.车辆运行控制状态                                                          $    $           $    $  ANS010.BYTE004  $  if(x==0x00)y=@0111;else if(x==0x01)y=@013d;else if(x==0x02)y=@006d;else if(x==0x03)y=@0197;else if(x==0x04)y=@0198;else if(x==0x05)y=@013e;else if(x==0x06)y=@0199;else if(x==0x07)y=@0072;else if(x==0x08)y=@0075;else if(x==0x09)y=@019a;else if(x==0x0F)y=@019e;else y=@0015;
  $  011.系统时间                                                                  $    $           $    $  ANS011.BYTE004  $  SPRINTF([%d-%d-%d %d:%d:%d],(x1*1+2000),(x2*1),(x3*1),(x4*1),(x5*1),(x6*1));
  $  012.系统绝缘值                                                                $    $  Kohm     $    $  ANS012.BYTE004  $  y=x;
  $  013.电池最高单体电压代号                                                      $    $           $    $  ANS013.BYTE004  $  y=x*1;
  $  014.电池最低单体电压代号                                                      $    $           $    $  ANS014.BYTE004  $  y=x*1;
  $  015.电池最高温度代号                                                          $    $           $    $  ANS015.BYTE004  $  y=x*1;
  $  016.电池最低温度代号                                                          $    $           $    $  ANS016.BYTE004  $  y=x*1;
  $  017.最高允许回馈电流                                                          $    $  A        $    $  ANS017.BYTE004  $  y=((x1*256+x2)*0.05)-1600;
  $  018.BMS(电池管理系统)请求的充电电流                                           $    $  A        $    $  ANS018.BYTE004  $  y=((x1*256+x2)*0.05)-1600;
  $  019.平均温度                                                                  $    $  degC     $    $  ANS019.BYTE004  $  y=(x*1)-40;
  $  020.快充插座温度                                                              $    $  degC     $    $  ANS020.BYTE004  $  y=(x*1)-40;
  $  021.系统供电电压值                                                            $    $  mV       $    $  ANS021.BYTE004  $  y=x*100;
  $  022.车速                                                                      $    $  km/h     $    $  ANS022.BYTE004  $  y=(x1*256+x2)/16;
  $  023.通信故障模块信息                                                          $    $           $    $  ANS023.BYTE004  $  y=x;
  $  024.总正继电器后端电压                                                        $    $  V        $    $  ANS024.BYTE004  $  y=(x1*256+x2)*0.05;
  $  025.加热继电器后端电压                                                        $    $  V        $    $  ANS025.BYTE004  $  y=(x1*256+x2)*0.05;
  $  026.总负继电器后端电压                                                        $    $  V        $    $  ANS026.BYTE004  $  y=(x1*256+x2)*0.05;
  $  027.快充继电器后端电压                                                        $    $  V        $    $  ANS027.BYTE004  $  y=(x1*256+x2)*0.05;
  $  028.慢充继电器后端电压                                                        $    $  V        $    $  ANS028.BYTE004  $  y=(x1*256+x2)*0.05;
  $  029.单体欠压严重报警（放电）发生次数                                          $    $           $    $  ANS029.BYTE004  $  y=x;
  $  030.单体欠压一般（放电）报警发生次数                                          $    $           $    $  ANS030.BYTE004  $  y=x;
  $  031.单体欠压严重报警（充电）发生次数                                          $    $           $    $  ANS031.BYTE004  $  y=x;
  $  032.PACK(电池包)电压严重过低发生次数                                          $    $           $    $  ANS032.BYTE004  $  y=x;
  $  033.PACK(电池包)电压一般过低发生次数                                          $    $           $    $  ANS033.BYTE004  $  y=x;
  $  034.高温严重报警（放电）发生次数                                              $    $           $    $  ANS034.BYTE004  $  y=x;
  $  035.高温一般报警（放电）发生次数                                              $    $           $    $  ANS035.BYTE004  $  y=x;
  $  036.高温严重报警（充电）发生次数                                              $    $           $    $  ANS036.BYTE004  $  y=x;
  $  037.低温严重报警（放电）发生次数                                              $    $           $    $  ANS037.BYTE004  $  y=x;
  $  038.低温严重报警（充电）发生次数                                              $    $           $    $  ANS038.BYTE004  $  y=x;
  $  039.BMS(电池管理系统)供电电源高于16V发生次数                                  $    $           $    $  ANS039.BYTE004  $  y=x;
  $  040.BMS(电池管理系统)供电电源低于9V发生次数                                   $    $           $    $  ANS040.BYTE004  $  y=x;
  $  041.压差过大（放电）发生次数                                                  $    $           $    $  ANS041.BYTE004  $  y=x;
  $  042.压差过大（充电）发生次数                                                  $    $           $    $  ANS042.BYTE004  $  y=x;
  $  043.单体过压严重报警（放电）发生次数                                          $    $           $    $  ANS043.BYTE004  $  y=x;
  $  044.单体过压一般报警（放电）发生次数                                          $    $           $    $  ANS044.BYTE004  $  y=x;
  $  045.单体过压严重报警（充电）发生次数                                          $    $           $    $  ANS045.BYTE004  $  y=x;
  $  046.绝缘严重报警发生次数                                                      $    $           $    $  ANS046.BYTE004  $  y=x;
  $  047.BMS(电池管理系统)通讯异常-外部与VCU (整车控制器) 的通讯故障发生次数       $    $           $    $  ANS047.BYTE004  $  y=x;
  $  048.电池包总压采样回路故障发生次数                                            $    $           $    $  ANS048.BYTE004  $  y=x;
  $  049.电池高压回路主保险融断、总负异常断开发生次数                              $    $           $    $  ANS049.BYTE004  $  y=x;
  $  050.高压环路互锁故障发生次数                                                  $    $           $    $  ANS050.BYTE004  $  y=x;
  $  051.BMS(电池管理系统)通讯异常-内部发生次数                                    $    $           $    $  ANS051.BYTE004  $  y=x;
  $  052.电池单体电压采集线断线发生次数                                            $    $           $    $  ANS052.BYTE004  $  y=x;
  $  053.电池单体温度采集线断线发生次数                                            $    $           $    $  ANS053.BYTE004  $  y=x;
  $  054.快充失败原因(含加热)                                                      $    $           $    $  ANS054.BYTE004  $  if(((x>>0)&1))y=@019f;else if(((x>>1)&1))y=@01a0;else if(((x>>2)&1))y=@01a1;else if(((x>>3)&1))y=@01a2;else if(((x>>4)&1))y=@0627;else if((((x>>5)&1))||(((x>>6)&1))||(((x>>7)&1)))y=@0626;else y=@0015;
  $  055.慢充失败原因(含加热)                                                      $    $           $    $  ANS055.BYTE004  $  if(((x>>0)&1))y=@019f;else if(((x>>1)&1))y=@01a0;else if(((x>>2)&1))y=@01a1;else if(((x>>3)&1))y=@01a2;else if(((x>>4)&1))y=@01a3;else if(((x>>5)&1))y=@01a4;else if((((x>>6)&1))||(((x>>7)&1)))y=@0626;else y=@0015;

  $)  01.单体断线电池编号
  $  01.单体断线电池编号
  $  REQ000:706 03 22 02 4A 00 00 00 00       $  ANS000:716 03 22 02 4A 00 00 00 00

  $  000.单体断线电池编号1       $    $       $    $  ANS000.BYTE004  $  y=x*1;
  $  001.单体断线电池编号2       $    $       $    $  ANS000.BYTE005  $  y=x*1;
  $  002.单体断线电池编号3       $    $       $    $  ANS000.BYTE006  $  y=x*1;
  $  003.单体断线电池编号4       $    $       $    $  ANS000.BYTE007  $  y=x*1;
  $  004.单体断线电池编号5       $    $       $    $  ANS000.BYTE008  $  y=x*1;
  $  005.单体断线电池编号6       $    $       $    $  ANS000.BYTE009  $  y=x*1;
  $  006.单体断线电池编号7       $    $       $    $  ANS000.BYTE010  $  y=x*1;
  $  007.单体断线电池编号8       $    $       $    $  ANS000.BYTE011  $  y=x*1;

  $)  02.断线温度编号
  $  02.断线温度编号
  $  REQ000:706 03 22 02 4B 00 00 00 00       $  ANS000:716 03 22 02 4B 00 00 00 00

  $  000.断线温度编号1       $    $       $    $  ANS000.BYTE004  $  y=x*1;
  $  001.断线温度编号2       $    $       $    $  ANS000.BYTE005  $  y=x*1;
  $  002.断线温度编号3       $    $       $    $  ANS000.BYTE006  $  y=x*1;
  $  003.断线温度编号4       $    $       $    $  ANS000.BYTE007  $  y=x*1;
  $  004.断线温度编号5       $    $       $    $  ANS000.BYTE008  $  y=x*1;
  $  005.断线温度编号6       $    $       $    $  ANS000.BYTE009  $  y=x*1;
  $  006.断线温度编号7       $    $       $    $  ANS000.BYTE010  $  y=x*1;
  $  007.断线温度编号8       $    $       $    $  ANS000.BYTE011  $  y=x*1;

;******************************************************************************************************************************************************

30帧:

  $FC REQ000:706 30 00 00 00 00 00 00 00  $FC 

;******************************************************************************************************************************************************
