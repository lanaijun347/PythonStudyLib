
    车型ID：a10d

    模拟：协议模拟-->a10d

;******************************************************************************************************************************************************

    通讯线: $~06$~14$~500k$~789

进入命令:

  $~  REQ000:781 02 10 01 00 00 00 00 00       $~  ANS000:789 02 10 01 00 00 00 00 00

空闲命令:

  $!  REQ000:781 02 3E 01 00 00 00 00 00       $!  ANS000:789 02 3E 01 00 00 00 00 00

退出命令:

  $@  REQ000:781 01 20 00 00 00 00 00 00       $@  ANS000:789 01 20 00 00 00 00 00 00


;******************************************************************************************************************************************************

读取故障码:

  $#  REQ000:781 05 18 00 FF FF FF 00 00       $#  ANS000:789 05 18 00 FF FF FF 00 00

		控制公式：
			y=(x1<<8)+x2;

  ANS000.BYTE02 控制故障码个数，从$#ANS000.BYTE3$#开始每$#4$#个字节表示一个故障码，前$#2$#表示码号。

  码库:

  $*$*DTC/feff0000_2BYTE


<RDTC>
  <FUNCTION type="0" num="0">
     <param type="string" value="1"/>
   </FUNCTION>
</RDTC>

;******************************************************************************************************************************************************

清除故障码:

  $$  REQ000:781 04 14 FF FF FF 00 00 00       $$  ANS000:789 04 14 FF FF FF 00 00 00

;******************************************************************************************************************************************************

版本信息:

  $%  REQ000:781 03 22 00 01 00 00 00 00       $%  ANS000:789 03 22 00 01 00 00 00 00
  $%  REQ001:781 03 22 00 03 00 00 00 00       $%  ANS001:789 03 22 00 03 00 00 00 00

  $%  000:硬件版本:        $%    $%  ANS000.BYTE004  $%  y=SPRINTF([%d.%d.%d],x1,x2,x3);
  $%  001:软件版本:        $%    $%  ANS001.BYTE004  $%  y=SPRINTF([%d.%d.%d],x1,x2,x3);

;******************************************************************************************************************************************************

读数据流: 

  $  REQ000:781 03 22 00 04 00 00 00 00       $  ANS000:789 03 22 00 04 00 00 00 00
  $  REQ001:781 03 22 00 05 00 00 00 00       $  ANS001:789 03 22 00 05 00 00 00 00
  $  REQ002:781 03 22 00 06 00 00 00 00       $  ANS002:789 03 22 00 06 00 00 00 00
  $  REQ003:781 03 22 00 07 00 00 00 00       $  ANS003:789 03 22 00 07 00 00 00 00
  $  REQ004:781 03 22 00 08 00 00 00 00       $  ANS004:789 03 22 00 08 00 00 00 00
  $  REQ005:781 03 22 00 0A 00 00 00 00       $  ANS005:789 03 22 00 0A 00 00 00 00
  $  REQ006:781 03 22 00 0B 00 00 00 00       $  ANS006:789 03 22 00 0B 00 00 00 00
  $  REQ007:781 03 22 00 0C 00 00 00 00       $  ANS007:789 03 22 00 0C 00 00 00 00
  $  REQ008:781 03 22 00 0D 00 00 00 00       $  ANS008:789 03 22 00 0D 00 00 00 00
  $  REQ009:781 03 22 00 0E 00 00 00 00       $  ANS009:789 03 22 00 0E 00 00 00 00
  $  REQ010:781 03 22 00 0F 00 00 00 00       $  ANS010:789 03 22 00 0F 00 00 00 00
  $  REQ011:781 03 22 00 10 00 00 00 00       $  ANS011:789 03 22 00 10 00 00 00 00
  $  REQ012:781 03 22 00 11 00 00 00 00       $  ANS012:789 03 22 00 11 00 00 00 00
  $  REQ013:781 03 22 00 12 00 00 00 00       $  ANS013:789 03 22 00 12 00 00 00 00
  $  REQ014:781 03 22 00 13 00 00 00 00       $  ANS014:789 03 22 00 13 00 00 00 00
  $  REQ015:781 03 22 00 14 00 00 00 00       $  ANS015:789 03 22 00 14 00 00 00 00
  $  REQ016:781 03 22 00 15 00 00 00 00       $  ANS016:789 03 22 00 15 00 00 00 00
  $  REQ017:781 03 22 00 16 00 00 00 00       $  ANS017:789 03 22 00 16 00 00 00 00
  $  REQ018:781 03 22 00 17 00 00 00 00       $  ANS018:789 03 22 00 17 00 00 00 00
  $  REQ019:781 03 22 00 18 00 00 00 00       $  ANS019:789 03 22 00 18 00 00 00 00
  $  REQ020:781 03 22 00 19 00 00 00 00       $  ANS020:789 03 22 00 19 00 00 00 00
  $  REQ021:781 03 22 00 1A 00 00 00 00       $  ANS021:789 03 22 00 1A 00 00 00 00
  $  REQ022:781 03 22 00 1B 00 00 00 00       $  ANS022:789 03 22 00 1B 00 00 00 00
  $  REQ023:781 03 22 00 1C 00 00 00 00       $  ANS023:789 03 22 00 1C 00 00 00 00
  $  REQ024:781 03 22 00 1D 00 00 00 00       $  ANS024:789 03 22 00 1D 00 00 00 00
  $  REQ025:781 03 22 00 1E 00 00 00 00       $  ANS025:789 03 22 00 1E 00 00 00 00
  $  REQ026:781 03 22 00 1F 00 00 00 00       $  ANS026:789 03 22 00 1F 00 00 00 00

  $  000.电池组当前总电压       $    $  V            $    $  ANS000.BYTE004  $  if(x2==0x00) y=x1; else if((x2==0x01) && (x1<0xF4)) y=x1+256; else y=@0108;
  $  001.电池组当前总电流       $    $  A            $    $  ANS001.BYTE004  $  if(x2<0x27) y=x2*25.6+x1/10.0-500.0; else if((x2==0x28) && (x1<0x10)) y=x2*25.6+x1/10.0-500.0; else y=@0108;
  $  002.电池的健康指数         $    $  %            $    $  ANS002.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  003.剩余电池电量           $    $  %            $    $  ANS003.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  004.电池组最高温度         $    $  degree C     $    $  ANS004.BYTE004  $  if(x1<0xC9) y=x1-40; else y=@0108;
  $  005.充电是否允许           $    $               $    $  ANS005.BYTE004  $  if(x1==0x00) y=@004e; else if(x1==0x01) y=@004d; else y=@0108;
  $  006.预充状态               $    $               $    $  ANS006.BYTE004  $  if(x1==0x00) y=@0142; else if(x1==0x01) y=@0143; else if(x1==0x02) y=@0144; else if(x1==0x03) y=@0145; else y=@0108;
  $  007.放电主接触器状态       $    $               $    $  ANS007.BYTE004  $  if(x1==0x00) y=@0047; else if(x1==0x01) y=@0048; else y=@0108;
  $  008.预充接触器状态         $    $               $    $  ANS008.BYTE004  $  if(x1==0x00) y=@0047; else if(x1==0x01) y=@0048; else y=@0108;
  $  009.充电接触器状态         $    $               $    $  ANS009.BYTE004  $  if(x1==0x00) y=@0047; else if(x1==0x01) y=@0048; else y=@0108;
  $  010.放电是否允许           $    $               $    $  ANS010.BYTE004  $  if(x1==0x00) y=@004e; else if(x1==0x01) y=@004d; else y=@0108;
  $  011.最低电压电池号         $    $               $    $  ANS011.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  012.最低单节电池电压       $    $  V            $    $  ANS012.BYTE004  $  if((x2==0x00) && (x1<0x64)) y=@0510; else if((x2==0x00) && (x1>=0x64) && (x1<0xC8)) y=@0511; else if((x2==0x00) && (x1>=0xC8)) y=@0512;  else if((x2==0x01) && (x1<0x2C)) y=@0512; else if((x2==0x01) && (x1>=0x2C) && (x1<0x90)) y=@0513; else if((x2==0x01) && (x1>=0x90) && (x1<0xF4)) y=@070f; else y=@0108;
  $  013.最高电压电池号         $    $               $    $  ANS013.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  014.最高单节电池电压       $    $  V            $    $  ANS014.BYTE004  $  if((x2==0x00) && (x1<0x64)) y=@0510; else if((x2==0x00) && (x1>=0x64) && (x1<0xC8)) y=@0511; else if((x2==0x00) && (x1>=0xC8)) y=@0512;  else if((x2==0x01) && (x1<0x2C)) y=@0512; else if((x2==0x01) && (x1>=0x2C) && (x1<0x90)) y=@0513; else if((x2==0x01) && (x1>=0x90) && (x1<0xF4)) y=@070f; else y=@0108;
  $  015.最低温度电池号         $    $               $    $  ANS015.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  016.最低单节电池温度       $    $  degree C     $    $  ANS016.BYTE004  $  if(x1<0xC9) y=x1-40; else y=@0108;
  $  017.最高温度电池号         $    $               $    $  ANS017.BYTE004  $  if(x1<0x65) y=x1; else y=@0108;
  $  018.最高单节电池温度       $    $  degree C     $    $  ANS018.BYTE004  $  if(x1<0xC9) y=x1-40; else y=@0108;
  $  019.电池组充电状态         $    $               $    $  ANS019.BYTE004  $  if((x1&0x03)==0x00) y=@0045; else if((x1&0x03)==0x01) y=@0680; else if((x1&0x03)==0x02) y=@0681;  else y=@0108;
  $  020.电池组温度状态         $    $               $    $  ANS020.BYTE004  $  if(x1==0x01) y=@0045; else if(x1==0x02) y=@0931; else if(x1==0x03) y=@0932; else y=@0108;
  $  021.电池组漏电状态         $    $               $    $  ANS021.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@067c; else if(x1==0x02) y=@067d; else y=@0108;
  $  022.电池组电量状态         $    $               $    $  ANS022.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@067b; else y=@0108;
  $  023.湿度状态               $    $               $    $  ANS023.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@067f; else y=@0108;
  $  024.过流状态               $    $               $    $  ANS024.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@067e; else y=@0108;
  $  025.电压过低状态           $    $               $    $  ANS025.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@0680; else if(x1==0x02) y=@0681; else y=@0108;
  $  026.电压过高状态           $    $               $    $  ANS026.BYTE004  $  if(x1==0x00) y=@0045; else if(x1==0x01) y=@0680; else if(x1==0x02) y=@0681; else y=@0108;

;******************************************************************************************************************************************************

30帧:

  $FC REQ000:781 30 00 00 00 00 00 00 00  $FC 

;******************************************************************************************************************************************************
