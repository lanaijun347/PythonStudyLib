
    车型ID：6581

    模拟：协议模拟-->6581

;******************************************************************************************************************************************************

    通讯线: $~03$~11$~500k

进入命令:

  $~  REQ000:7A6 02 10 03 00 00 00 00 00       $~  ANS000:7E6 02 10 03 00 00 00 00 00

空闲命令:

  $!  REQ000:7A6 02 3E 00 00 00 00 00 00       $!  ANS000:7E6 02 3E 00 00 00 00 00 00

退出命令:



;******************************************************************************************************************************************************

读取故障码:

  $#  REQ000:7A6 03 19 02 08 00 00 00 00       $#  ANS000:7E6 03 19 02 08 00 00 00 00

  帧长控制故障码个数，从$#ANS000.BYTE4$#开始每$#4$#个字节表示一个故障码，前$#3$#表示码号。

  码库:

  $*$*DTC/99000000


;******************************************************************************************************************************************************

清除故障码:

  $$  REQ000:7A6 04 14 FF FF FF 00 00 00       $$  ANS000:7E6 04 14 FF FF FF 00 00 00

;******************************************************************************************************************************************************

版本信息:

  $%  REQ000:7A6 03 22 F1 5A 00 00 00 00       $%  ANS000:7E6 03 22 F1 5A 00 00 00 00
  $%  REQ001:7A6 03 22 F1 5B 00 00 00 00       $%  ANS001:7E6 03 22 F1 5B 00 00 00 00
  $%  REQ002:7A6 03 22 F1 87 00 00 00 00       $%  ANS002:7E6 03 22 F1 87 00 00 00 00
  $%  REQ003:7A6 03 22 F1 8A 00 00 00 00       $%  ANS003:7E6 03 22 F1 8A 00 00 00 00
  $%  REQ004:7A6 03 22 F1 8C 00 00 00 00       $%  ANS004:7E6 03 22 F1 8C 00 00 00 00
  $%  REQ005:7A6 03 22 F1 90 00 00 00 00       $%  ANS005:7E6 03 22 F1 90 00 00 00 00
  $%  REQ006:7A6 03 22 F1 93 00 00 00 00       $%  ANS006:7E6 03 22 F1 93 00 00 00 00
  $%  REQ007:7A6 03 22 F1 95 00 00 00 00       $%  ANS007:7E6 03 22 F1 95 00 00 00 00
  $%  REQ008:7A6 03 22 F1 97 00 00 00 00       $%  ANS008:7E6 03 22 F1 97 00 00 00 00

  $%  000:指纹-最新下载器逻辑块-编程日期:            $%    $%  ANS000.BYTE004  $%  y=SPRINTF([%d-%d-%d],2000+x1,x2,x3);
  $%  001:指纹-最新下载器逻辑块-测试仪序列号:        $%    $%  ANS000.BYTE007  $%  SPRINTF([%2X-%2X%2X%2X%2X-%2X],x1,x2,x3,x4,x5,x6);
  $%  002:指纹-所有逻辑块-识别号:                    $%    $%  ANS001.BYTE004  $%  y=x1;
  $%  003:指纹-所有逻辑块-编程日期:                  $%    $%  ANS001.BYTE005  $%  y=SPRINTF([%d-%d-%d],2000+x1,x2,x3);
  $%  004:指纹-所有逻辑块-测试仪序列号:              $%    $%  ANS001.BYTE008  $%  SPRINTF([%2X-%2X%2X%2X%2X-%2X],x1,x2,x3,x4,x5,x6);
  $%  005:车辆制造商备件号:                          $%    $%  ANS002.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16);
  $%  006:系统供应商号:                              $%    $%  ANS003.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);
  $%  007:ECU序列号:                                 $%    $%  ANS004.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14);
  $%  008:VIN码:                                     $%    $%  ANS005.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17);
  $%  009:系统供应商ECU硬件版本号:                   $%    $%  ANS006.BYTE004  $%  SPRINTF([%2X.%2X],x1,x2);
  $%  010:系统供应商ECU软件版本号:                   $%    $%  ANS007.BYTE004  $%  SPRINTF([%2X.%2X],x1,x2);
  $%  011:系统名称:                                  $%    $%  ANS008.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);

;******************************************************************************************************************************************************

读数据流: 

  $  REQ000:7A6 03 22 1D 00 00 00 00 00       $  ANS000:7E6 03 22 1D 00 00 00 00 00
  $  REQ001:7A6 03 22 1D 01 00 00 00 00       $  ANS001:7E6 03 22 1D 01 00 00 00 00
  $  REQ002:7A6 03 22 1D 02 00 00 00 00       $  ANS002:7E6 03 22 1D 02 00 00 00 00
  $  REQ003:7A6 03 22 1D 03 00 00 00 00       $  ANS003:7E6 03 22 1D 03 00 00 00 00
  $  REQ004:7A6 03 22 1D 04 00 00 00 00       $  ANS004:7E6 03 22 1D 04 00 00 00 00
  $  REQ005:7A6 03 22 1D 05 00 00 00 00       $  ANS005:7E6 03 22 1D 05 00 00 00 00
  $  REQ006:7A6 03 22 1D 06 00 00 00 00       $  ANS006:7E6 03 22 1D 06 00 00 00 00
  $  REQ007:7A6 03 22 1D 07 00 00 00 00       $  ANS007:7E6 03 22 1D 07 00 00 00 00
  $  REQ008:7A6 03 22 1D 08 00 00 00 00       $  ANS008:7E6 03 22 1D 08 00 00 00 00
  $  REQ009:7A6 03 22 1D 09 00 00 00 00       $  ANS009:7E6 03 22 1D 09 00 00 00 00
  $  REQ010:7A6 03 22 1D 10 00 00 00 00       $  ANS010:7E6 03 22 1D 10 00 00 00 00
  $  REQ011:7A6 03 22 1D 11 00 00 00 00       $  ANS011:7E6 03 22 1D 11 00 00 00 00
  $  REQ012:7A6 03 22 1D 12 00 00 00 00       $  ANS012:7E6 03 22 1D 12 00 00 00 00
  $  REQ013:7A6 03 22 1D 13 00 00 00 00       $  ANS013:7E6 03 22 1D 13 00 00 00 00
  $  REQ014:7A6 03 22 1D 14 00 00 00 00       $  ANS014:7E6 03 22 1D 14 00 00 00 00
  $  REQ015:7A6 03 22 1D 15 00 00 00 00       $  ANS015:7E6 03 22 1D 15 00 00 00 00
  $  REQ016:7A6 03 22 1D 16 00 00 00 00       $  ANS016:7E6 03 22 1D 16 00 00 00 00
  $  REQ017:7A6 03 22 1D 17 00 00 00 00       $  ANS017:7E6 03 22 1D 17 00 00 00 00
  $  REQ018:7A6 03 22 1D 18 00 00 00 00       $  ANS018:7E6 03 22 1D 18 00 00 00 00
  $  REQ019:7A6 03 22 1D 19 00 00 00 00       $  ANS019:7E6 03 22 1D 19 00 00 00 00

  $  000.电机给定扭矩                            $    $  Nm           $    $  ANS000.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<1000) y=x1*6553.6+x2*25.6+x3*0.1-500;else y=500;
  $  001.电机实际扭矩                            $    $  Nm           $    $  ANS001.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<1000) y=x1*6553.6+x2*25.6+x3*0.1-500;else y=500;
  $  002.电机给定转速                            $    $  rpm          $    $  ANS002.BYTE005  $  if((x1*65536+x2*256+x3)<30000) y=x1*65536+x2*256+x3-15000;else y=15000;
  $  003.电机反馈转速                            $    $  rpm          $    $  ANS003.BYTE005  $  if((x1*65536+x2*256+x3)<30000) y=x1*65536+x2*256+x3-15000;else y=15000;
  $  004.当前系统状态                            $    $  bit          $    $  ANS004.BYTE005  $  if((x1*65536+x2*256+x3)<65535) y=x1*65536+x2*256+x3;else y=65535;
  $  005.当前输入端子状态                        $    $  bit          $    $  ANS005.BYTE005  $  if((x1*65536+x2*256+x3)<65535) y=x1*65536+x2*256+x3;else y=65535;
  $  006.当前输出端子状态                        $    $  bit          $    $  ANS006.BYTE005  $  y=x1*65536+x2*256+x3;
  $  007.电机温度                                $    $  degree C     $    $  ANS007.BYTE005  $  if((x1*65536+x2*256+x3)<350) y=x1*65536+x2*256+x3-50;else y=300;
  $  008.驱动电机控制单元(MCU)故障警告信号       $    $               $    $  ANS008.BYTE005  $  if(x1==1) y=@00ca;else if(x1==2) y=@00fe;else if(x1==3) y=@00f0;else if(x1==4) y=@00ff;else y=@0039;
  $  009.输入电压                                $    $  V            $    $  ANS009.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<1000) y=x1*6553.6+x2*25.6+x3*0.1;else y=1000;
  $  010.A相电流                                 $    $  A            $    $  ANS010.BYTE005  $  if((x1*65536+x2*256+x3)<4000) y=x1*65536+x2*256+x3-2000;else y=2000;
  $  011.B相电流                                 $    $  A            $    $  ANS011.BYTE005  $  if((x1*65536+x2*256+x3)<4000) y=x1*65536+x2*256+x3-2000;else y=2000;
  $  012.C相电流                                 $    $  A            $    $  ANS012.BYTE005  $  if((x1*65536+x2*256+x3)<4000) y=x1*65536+x2*256+x3-2000;else y=2000;
  $  013.A相绝缘栅双极型晶体管(IGBT)温度         $    $  degree C     $    $  ANS013.BYTE005  $  if((x1*65536+x2*256+x3)<200) y=x1*65536+x2*256+x3-50;else y=150;
  $  014.B相绝缘栅双极型晶体管(IGBT)温度         $    $  degree C     $    $  ANS014.BYTE005  $  if((x1*65536+x2*256+x3)<200) y=x1*65536+x2*256+x3-50;else y=150;
  $  015.C相绝缘栅双极型晶体管(IGBT)温度         $    $  degree C     $    $  ANS015.BYTE005  $  if((x1*65536+x2*256+x3)<200) y=x1*65536+x2*256+x3-50;else y=150;
  $  016.直流链路电流                            $    $  A            $    $  ANS016.BYTE005  $  if((x1*65536+x2*256+x3)<2000) y=x1*65536+x2*256+x3-1000;else y=1000;
  $  017.5V 中央处理器(CPU)电压                  $    $  V            $    $  ANS017.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<10) y=x1*6553.6+x2*25.6+x3*0.1;else y=10;
  $  018.12V 开关电源(SMPS)电压                  $    $  V            $    $  ANS018.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<30) y=x1*6553.6+x2*25.6+x3*0.1;else y=30;
  $  019.电源电压                                $    $  V            $    $  ANS019.BYTE005  $  if((x1*6553.6+x2*25.6+x3*0.1)<30) y=x1*6553.6+x2*25.6+x3*0.1;else y=30;

;******************************************************************************************************************************************************

30帧:

  $FC REQ000:7A6 30 00 14 00 00 00 00 00  $FC 

;******************************************************************************************************************************************************
