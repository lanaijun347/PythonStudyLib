
    车型ID：9f7f

    模拟：协议模拟-->9f7f

;******************************************************************************************************************************************************

    通讯线: $~06$~14$~250K$~800A7A6,C08A6A7,C09A6A7,C0AA6A7

进入命令:

  $~  REQ000:0       $~  ANS000:800A7A6

空闲命令:


退出命令:



;******************************************************************************************************************************************************

读取故障码:

  $#  REQ000:0       $#  ANS000:800A7A6


  码库:

  $*$*DTC/ffffffff_1BYTE


;******************************************************************************************************************************************************

读数据流: 

  $)  00.VCU to MCU_1
  $  00.VCU to MCU_1
  $  REQ000:01022000240000140053d30       $  ANS000:800A7A61022000240000140053d30

  $  000.电机状态运行模式给定       $    $          $    $  ANS000.BYTE001  $  if(x==0x00) y=@0042;else if(x==0x01) y=@00bd;else if(x==0x02) y=@00be;else if(x==0x03) y=@0042;else y=@0006;
  $  001.电机控制模式               $    $          $    $  ANS000.BYTE001  $  if(x==0x00) y=@0042;else if(x==0x04) y=@00bb;else if(x==0x08) y=@00bc;else if(x==0x0c) y=@0042;else y=@0006;
  $  002.电机控制指令               $    $          $    $  ANS000.BYTE001  $  if(x==0x00) y=@0042;else if(x==0x10) y=@00b9;else if(x==0x20) y=@00ba;else if(x==0x30) y=@0042;else y=@0006;
  $  003.电机方向控制               $    $          $    $  ANS000.BYTE001  $  if(x==0x00) y=@00b6;else if(x==0x40) y=@00b7;else if(x==0x80) y=@00b8;else if(x==0xc0) y=@0042;else y=@0006;
  $  004.电机的扭矩控制指令         $    $  Nm      $    $  ANS000.BYTE003  $  y=(x1*256+x2)*800.0*1.0/65535-400;
  $  005.电机转速控制指令           $    $  rpm     $    $  ANS000.BYTE005  $  y=(x1*256+x2)*3000.0*1.0/65535-1500;

  $)  01.电机状态1
  $  01.电机状态1
  $  REQ000:01022000240000160453538       $  ANS000:800A7A61022000240000160453538

  $  000.电机转矩极限值       $    $  Nm      $    $  ANS000.BYTE001  $  y=(x1*256+x2)*800.0*1.0/65535-400;
  $  001.电机转矩             $    $  rpm     $    $  ANS000.BYTE003  $  y=(x1*256+x2)*800.0*1.0/65535-400;
  $  002.电机转速             $    $          $    $  ANS000.BYTE005  $  y=(x1*256+x2)*3000.0*1.0/65535-1500;
  $  003.电机旋转方向         $    $          $    $  ANS000.BYTE007  $  if(x==0x00) y=@0042;else if(x==0x04) y=@00bb;else if(x==0x08) y=@00bc;else if(x==0x0c) y=@0042;else y=@0006;
  $  004.电机运转模式         $    $          $    $  ANS000.BYTE007  $  if(x==0x00) y=@0042;else if(x==0x10) y=@00b9;else if(x==0x20) y=@00ba;else if(x==0x30) y=@0042;else y=@0006;
  $  005.电机状态             $    $          $    $  ANS000.BYTE007  $  if(x==0x00) y=@00b6;else if(x==0x40) y=@00b7;else if(x==0x80) y=@00b8;else if(x==0xc0) y=@0042;else y=@0006;
  $  006.MCU使能状态          $    $          $    $  ANS000.BYTE007  $  if((x&0x40)==0x40) y=@00af;else y=@0015;
  $  007.电机驱动许可         $    $          $    $  ANS000.BYTE008  $  if((x&0x01)==0x01) y=@0098;else y=@0099;
  $  008.MCU下电许可          $    $          $    $  ANS000.BYTE008  $  if((x&0x02)==0x02) y=@0098;else y=@0099;

  $)  02.电机状态2
  $  02.电机状态2
  $  REQ000:010220002400001604d3538       $  ANS000:800A7A610220002400001604d3538

  $  000.电机交流侧电流       $    $  A       $    $  ANS000.BYTE001  $  y=(x1*256+x2)*400.0*1.0/65535;
  $  001.电机交流侧电压       $    $  V       $    $  ANS000.BYTE003  $  y=(x1*256+x2)*400.0*1.0/65535;
  $  002.直流侧电压           $    $  V       $    $  ANS000.BYTE005  $  y=(x1*256+x2)*400.0*1.0/65535;
  $  003.电机温度             $    $  °C     $    $  ANS000.BYTE007  $  y=x*190*1.0/255-40;
  $  004.MCU温度              $    $  °C     $    $  ANS000.BYTE008  $  y=x*190*1.0/255-40;

  $)  03.MCU_Faliure_1
  $  03.MCU_Faliure_1
  $  REQ000:01022000240000160553538       $  ANS000:800A7A61022000240000160553538

  $  000.St_failLevel       $    $       $    $  ANS000.BYTE001  $  if((x&0x07)==0x00) y=@00bf;else if((x&0x07)==0x01) y=@00c0;else if((x&0x07)==0x02) y=@00c1;else if((x&0x07)==0x03) y=@00c2;else if((x&0x07)==0x04) y=@00c3;else if((x&0x07)==0x05) y=@0042;else y=@0006;
  $  001.电机个数           $    $       $    $  ANS000.BYTE007  $  if(x<0x10) y=x;else y=@0006;
  $  002.电机编号           $    $       $    $  ANS000.BYTE007  $  y=x*1.0/10;
  $  003.MCU厂商编号        $    $       $    $  ANS000.BYTE008  $  y=x;

;******************************************************************************************************************************************************

