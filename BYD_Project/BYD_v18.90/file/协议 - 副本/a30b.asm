
    车型ID：a30b

    模拟：协议模拟-->a30b

;******************************************************************************************************************************************************

    通讯线: $~06$~14$~500k$~7E8

进入命令:

  $~  REQ000:7E0 02 10 01 00 00 00 00 00       $~  ANS000:7E8 02 10 01 00 00 00 00 00

空闲命令:

  $!  REQ000:7E0 02 3E 80 00 00 00 00 00       $!  ANS000:7E8 02 3E 80 00 00 00 00 00

退出命令:



;******************************************************************************************************************************************************

读取故障码:

  $#  REQ000:7E0 03 19 02 AF 00 00 00 00       $#  ANS000:7E8 03 19 02 AF 00 00 00 00

		控制公式：
			y=(x1<<8)+x2;

  帧长控制故障码个数，从$#ANS000.BYTE4$#开始每$#4$#个字节表示一个故障码，前$#2$#表示码号。

  码库:

  $*$*DTC/a30b0000_2BYTE


;******************************************************************************************************************************************************

清除故障码:

  $$  REQ000:7E0 04 14 FF FF FF 00 00 00       $$  ANS000:7E8 04 14 FF FF FF 00 00 00

;******************************************************************************************************************************************************

版本信息:

  $%  REQ000:7E0 03 22 F1 80 00 00 00 00       $%  ANS000:7E8 03 22 F1 80 00 00 00 00
  $%  REQ001:7E0 03 22 F1 82 00 00 00 00       $%  ANS001:7E8 03 22 F1 82 00 00 00 00
  $%  REQ002:7E0 03 22 F1 88 00 00 00 00       $%  ANS002:7E8 03 22 F1 88 00 00 00 00
  $%  REQ003:7E0 03 22 F1 8B 00 00 00 00       $%  ANS003:7E8 03 22 F1 8B 00 00 00 00
  $%  REQ004:7E0 03 22 F1 91 00 00 00 00       $%  ANS004:7E8 03 22 F1 91 00 00 00 00
  $%  REQ005:7E0 03 22 F1 92 00 00 00 00       $%  ANS005:7E8 03 22 F1 92 00 00 00 00
  $%  REQ006:7E0 03 22 F1 94 00 00 00 00       $%  ANS006:7E8 03 22 F1 94 00 00 00 00
  $%  REQ007:7E0 03 22 F1 97 00 00 00 00       $%  ANS007:7E8 03 22 F1 97 00 00 00 00

  $%  000:软件识别:                    $%    $%  ANS000.BYTE004  $%  y = x1*256*256 + x2*256 + x3;
  $%  001:数据识别:                    $%    $%  ANS001.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14);
  $%  002:汽车制造厂ECU软件号:         $%    $%  ANS002.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17,x18,x19);
  $%  003:ECU生产日期:                 $%    $%  ANS003.BYTE004  $%  HEX(x1,x2,x3,x4);
  $%  004:汽车制造商ECU硬件号:         $%    $%  ANS004.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15,x16,x17,x18,x19);
  $%  005:系统供应商ECU硬件号:         $%    $%  ANS005.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);
  $%  006:系统供应商ECU软件号:         $%    $%  ANS006.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6,x7,x8,x9,x10);
  $%  007:系统名称或发动机类型:        $%    $%  ANS007.BYTE004  $%  ASCII(x1,x2,x3,x4,x5,x6);

;******************************************************************************************************************************************************

读数据流: 

  $)  00.动态数据
  $  00.动态数据
  $  REQ000:7E0 03 22 01 00 00 00 00 00       $  ANS000:7E8 03 22 01 00 00 00 00 00
  $  REQ001:7E0 03 22 01 01 00 00 00 00       $  ANS001:7E8 03 22 01 01 00 00 00 00
  $  REQ002:7E0 03 22 D0 05 00 00 00 00       $  ANS002:7E8 03 22 D0 05 00 00 00 00
  $  REQ003:7E0 03 22 01 04 00 00 00 00       $  ANS003:7E8 03 22 01 04 00 00 00 00
  $  REQ004:7E0 03 22 D0 00 00 00 00 00       $  ANS004:7E8 03 22 D0 00 00 00 00 00
  $  REQ005:7E0 03 22 01 0B 00 00 00 00       $  ANS005:7E8 03 22 01 0B 00 00 00 00
  $  REQ006:7E0 03 22 01 0D 00 00 00 00       $  ANS006:7E8 03 22 01 0D 00 00 00 00
  $  REQ007:7E0 03 22 01 10 00 00 00 00       $  ANS007:7E8 03 22 01 10 00 00 00 00
  $  REQ008:7E0 03 22 01 20 00 00 00 00       $  ANS008:7E8 03 22 01 20 00 00 00 00
  $  REQ009:7E0 03 22 01 23 00 00 00 00       $  ANS009:7E8 03 22 01 23 00 00 00 00
  $  REQ010:7E0 03 22 01 25 00 00 00 00       $  ANS010:7E8 03 22 01 25 00 00 00 00
  $  REQ011:7E0 03 22 01 2F 00 00 00 00       $  ANS011:7E8 03 22 01 2F 00 00 00 00

  $  000.最大可达指示扭矩           $    $  %            $    $  ANS000.BYTE004  $  y=x1*99.6/255+x2*0.3/255;
  $  001.实际指示扭矩               $    $  %            $    $  ANS001.BYTE004  $  y=x1*99.6/255+x2*0.3/255;
  $  002.期望指示扭矩               $    $  %            $    $  ANS002.BYTE004  $  y=x1*99.6/255+x2*0.3/255;
  $  003.发动机转速                 $    $  rpm          $    $  ANS003.BYTE004  $  if((x1*64+x2*63/255)<64) y=0;else y=x1*64+x2*63/255;
  $  004.电瓶电压                   $    $  V            $    $  ANS004.BYTE004  $  y=x1/10.0;
  $  005.节气门相对下止点开度       $    $  %            $    $  ANS005.BYTE004  $  if(x1<0x80) y=x1*793/255+x2*6/255;else y=(x1-128)*793/255+x2*6/255-799;
  $  006.进气温度                   $    $  degree C     $    $  ANS006.BYTE004  $  y=x1*191/255-48;
  $  007.加速踏板角度               $    $  °           $    $  ANS007.BYTE004  $  y=x1*99.6/255+x2*0.3/255;
  $  008.进气量                     $    $  kg/h         $    $  ANS008.BYTE004  $  y=x1*4;
  $  009.下游氧传感器输出电压       $    $  V            $    $  ANS009.BYTE004  $  y=x1*1.3/255-0.2;
  $  010.相对负荷                   $    $  %            $    $  ANS010.BYTE004  $  y=x1*191/255;
  $  011.冷却液温度计算值           $    $  degree C     $    $  ANS011.BYTE004  $  y=x1*191/255-48;

  $)  01.发动机稳态工况
  $  01.发动机稳态工况
  $  REQ000:7E0 03 22 01 E8 00 00 00 00       $  ANS000:7E8 03 22 01 E8 00 00 00 00

  $  000.点火开关开                   $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.主继电器上电                 $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.油泵继电器上电               $    $       $    $  ANS000.BYTE004  $  if(x1&0x04) y=@0185;else y=@0186;
  $  003.发动机转动                   $    $       $    $  ANS000.BYTE004  $  if(x1&0x08) y=@0185;else y=@0186;
  $  004.发动机达到怠速转速           $    $       $    $  ANS000.BYTE004  $  if(x1&0x10) y=@0185;else y=@0186;
  $  005.达到发动机正常运行水温       $    $       $    $  ANS000.BYTE004  $  if(x1&0x40) y=@0185;else y=@0186;
  $  006.行车状态                     $    $       $    $  ANS000.BYTE004  $  if(x1&0x80) y=@0185;else y=@0186;

  $)  02.发动机动态工况
  $  02.发动机动态工况
  $  REQ000:7E0 03 22 01 E9 00 00 00 00       $  ANS000:7E8 03 22 01 E9 00 00 00 00

  $  000.节气门阀片在怠速位置       $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.节气门全开                 $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.减速断油状态               $    $       $    $  ANS000.BYTE004  $  if(x1&0x08) y=@0185;else y=@0186;
  $  003.加速加浓状态               $    $       $    $  ANS000.BYTE004  $  if(x1&0x10) y=@0185;else y=@0186;

  $)  03.排放控制
  $  03.排放控制
  $  REQ000:7E0 03 22 01 EA 00 00 00 00       $  ANS000:7E8 03 22 01 EA 00 00 00 00

  $  000.空燃比控制作用           $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.碳罐控制阀控制作用       $    $       $    $  ANS000.BYTE004  $  if(x1&0x04) y=@0185;else y=@0186;
  $  002.减速断油作用             $    $       $    $  ANS000.BYTE004  $  if(x1&0x08) y=@0185;else y=@0186;
  $  003.加速加浓作用             $    $       $    $  ANS000.BYTE004  $  if(x1&0x10) y=@0185;else y=@0186;
  $  004.混合气自学习作用         $    $       $    $  ANS000.BYTE004  $  if(x1&0x20) y=@0185;else y=@0186;

  $)  04.氧传感器
  $  04.氧传感器
  $  REQ000:7E0 03 22 01 EB 00 00 00 00       $  ANS000:7E8 03 22 01 EB 00 00 00 00

  $  000.前氧信号浓状态       $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.前氧信号稀状态       $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.前氧加热起作用       $    $       $    $  ANS000.BYTE004  $  if(x1&0x10) y=@0185;else y=@0186;
  $  003.后氧加热起作用       $    $       $    $  ANS000.BYTE004  $  if(x1&0x20) y=@0185;else y=@0186;

  $)  05.怠速控制
  $  05.怠速控制
  $  REQ000:7E0 03 22 01 EC 00 00 00 00       $  ANS000:7E8 03 22 01 EC 00 00 00 00

  $  000.怠速状态                  $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.电子负载1(转向助力)       $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.电子负载2(鼓风机)         $    $       $    $  ANS000.BYTE004  $  if(x1&0x04) y=@0185;else y=@0186;

  $)  06.SVS/MIL灯
  $  06.SVS/MIL灯
  $  REQ000:7E0 03 22 01 ED 00 00 00 00       $  ANS000:7E8 03 22 01 ED 00 00 00 00

  $  000.MIL(故障指示灯)常亮           $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.MIL(故障指示灯)闪亮           $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.SVS(系统维修指示灯)亮         $    $       $    $  ANS000.BYTE004  $  if(x1&0x10) y=@0185;else y=@0186;
  $  003.SVS(系统维修指示灯)闪亮       $    $       $    $  ANS000.BYTE004  $  if(x1&0x20) y=@0185;else y=@0186;
  $  004.SVS(系统维修指示灯)故障       $    $       $    $  ANS000.BYTE004  $  if(x1&0x40) y=@0185;else y=@0186;

  $)  07.发动机紧急状态
  $  07.发动机紧急状态
  $  REQ000:7E0 03 22 01 EE 00 00 00 00       $  ANS000:7E8 03 22 01 EE 00 00 00 00

  $  000.节气门体位置错误或未知       $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;

  $)  08.空调状态
  $  08.空调状态
  $  REQ000:7E0 03 22 01 EF 00 00 00 00       $  ANS000:7E8 03 22 01 EF 00 00 00 00

  $  000.压缩机工作                   $    $       $    $  ANS000.BYTE004  $  if(x1&0x01) y=@0185;else y=@0186;
  $  001.压缩机工作请求               $    $       $    $  ANS000.BYTE004  $  if(x1&0x02) y=@0185;else y=@0186;
  $  002.压缩机提升怠速转速请求       $    $       $    $  ANS000.BYTE004  $  if(x1&0x20) y=@0185;else y=@0186;
  $  003.大负荷时压缩机关闭           $    $       $    $  ANS000.BYTE004  $  if(x1&0x40) y=@0185;else y=@0186;
  $  004.压缩机压力开关状态           $    $       $    $  ANS000.BYTE004  $  if(x1&0x80) y=@0185;else y=@0186;

  $)  09.自动变速器请求
  $  09.自动变速器请求
  $  REQ000:7E0 03 22 01 F0 00 00 00 00       $  ANS000:7E8 03 22 01 F0 00 00 00 00
  $  REQ001:7E0 03 22 01 E0 00 00 00 00       $  ANS001:7E8 03 22 01 E0 00 00 00 00
  $  REQ002:7E0 03 22 01 E1 00 00 00 00       $  ANS002:7E8 03 22 01 E1 00 00 00 00
  $  REQ003:7E0 03 22 01 E2 00 00 00 00       $  ANS003:7E8 03 22 01 E2 00 00 00 00

  $  000.自动变速器离合器结合       $    $       $    $  ANS000.BYTE004  $  if(x1&0x08) y=@0185;else y=@0186;
  $  001.油泵激活请求               $    $       $    $  ANS001.BYTE004  $  if(x1==0) y=@001e;else if(x1==1) y=@001d;else y=@0525;
  $  002.风扇1                      $    $       $    $  ANS002.BYTE004  $  if(x1==0) y=@001e;else if(x1==1) y=@001d;else y=@0525;
  $  003.风扇2                      $    $       $    $  ANS003.BYTE004  $  if(x1==0) y=@001e;else if(x1==1) y=@001d;else y=@0525;

;******************************************************************************************************************************************************

30帧:

  $FC REQ000:7E0 30 01 04 00 00 00 00 00  $FC 

;******************************************************************************************************************************************************
